pipeline {

agent any

stages {

stage("create clone"){

steps{

git credentialsId: 'hub', url: 'https://github.com/Virtusatraining/DockerAssignment.git'

}

}

stage("build") {

steps {

sh "docker build -t apacheserver ."

}

}

stage("run") {

steps {

sh """

docker run -d -p 60:80 --name apaserver apacheserver:latest

"""

}

}

}

}
